â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘    SEEK BOUNDARY LOCK - ONLY SEEK WITHIN SEGMENT FIX         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ PROBLEM FIXED:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… NÃºt tua trÃ¡i/pháº£i giá» CHá»ˆ tua TRONG Ä‘oáº¡n hiá»‡n táº¡i
âœ… Khi tua quÃ¡ biÃªn Ä‘á»™ Ä‘oáº¡n, sáº½ Dá»ªNG Táº I BIÃŠN, KHÃ”NG nháº£y sang Ä‘oáº¡n má»›i
âœ… HoÃ n toÃ n kiá»ƒm soÃ¡t Ä‘Æ°á»£c vá»‹ trÃ­ audio trong tá»«ng Ä‘oáº¡n

ğŸ“Š IMPLEMENTATION:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

BEFORE (OLD LOGIC):
```javascript
const handleSeek = (direction) => {
  const audio = audioRef.current;
  const seekTime = 3;
  
  // Tua tá»± do, khÃ´ng giá»›i háº¡n!
  if (direction === 'backward') {
    audio.currentTime = Math.max(0, audio.currentTime - seekTime);
  } else if (direction === 'forward') {
    audio.currentTime = Math.min(audio.duration, audio.currentTime + seekTime);
  }
  
  // Chá»‰ update endTime
  if (!audio.paused) {
    setSegmentPlayEndTime(currentSegment.end);
  }
};
```

Problem: Audio cÃ³ thá»ƒ tua ra khá»i Ä‘oáº¡n hiá»‡n táº¡i!

AFTER (NEW LOGIC):
```javascript
const handleSeek = (direction) => {
  const audio = audioRef.current;
  const seekTime = 3;
  const currentSegment = transcriptData[currentSentenceIndex];
  
  if (!currentSegment) return;
  
  // TÃ­nh toÃ¡n vá»‹ trÃ­ má»›i
  let newTime = audio.currentTime;
  if (direction === 'backward') {
    newTime = audio.currentTime - seekTime;
  } else if (direction === 'forward') {
    newTime = audio.currentTime + seekTime;
  }
  
  // *** KEY: Giá»›i háº¡n trong biÃªn Ä‘á»™ Ä‘oáº¡n hiá»‡n táº¡i ***
  newTime = Math.max(
    currentSegment.start,                    // Min: Ä‘áº§u Ä‘oáº¡n
    Math.min(
      currentSegment.end - 0.1,              // Max: cuá»‘i Ä‘oáº¡n
      newTime                                // Vá»‹ trÃ­ má»›i
    )
  );
  
  audio.currentTime = newTime;
  
  // Update endTime náº¿u Ä‘ang phÃ¡t
  if (!audio.paused) {
    setSegmentPlayEndTime(currentSegment.end);
  }
};
```

KEY IMPROVEMENT: Constrain newTime báº±ng cÃ¡ch:
1. Min boundary: currentSegment.start (khÃ´ng tua trÆ°á»›c Ä‘áº§u Ä‘oáº¡n)
2. Max boundary: currentSegment.end - 0.1 (khÃ´ng tua quÃ¡ cuá»‘i Ä‘oáº¡n)

ğŸ¯ HOW IT WORKS:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Example:
Segment 2: 0:05-0:10 (5 giÃ¢y)
Audio hiá»‡n táº¡i: 0:07 (2 giÃ¢y sau khi báº¯t Ä‘áº§u)

User nháº¥n LEFT arrow (tua lÃ¹i 3 giÃ¢y):
â”œâ”€ newTime = 0:07 - 3 = 0:04 (QUá»C 0:05)
â”œâ”€ Constrain: Math.max(0:05, 0:04) = 0:05 âœ…
â””â”€ Audio seek Ä‘áº¿n 0:05 (Ä‘áº§u Ä‘oáº¡n)

User nháº¥n RIGHT arrow x3 (tua tiáº¿n 9 giÃ¢y):
â”œâ”€ newTime = 0:07 + 9 = 0:16 (QUá»C 0:10)
â”œâ”€ Constrain: Math.min(0:09.9, 0:16) = 0:09.9 âœ…
â””â”€ Audio seek Ä‘áº¿n 0:09.9 (gáº§n cuá»‘i Ä‘oáº¡n)

ğŸ“ FILES MODIFIED:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ“ pages/shadowing/[lessonId].js
  - handleSeek: Constrain seek within segment boundaries

âœ“ pages/dictation/[lessonId].js
  - handleSeek: Constrain seek within segment boundaries

âœ… FEATURES:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… Tua lÃ¹i bá»‹ dá»«ng á»Ÿ Ä‘áº§u Ä‘oáº¡n
âœ… Tua tiáº¿n bá»‹ dá»«ng á»Ÿ cuá»‘i Ä‘oáº¡n
âœ… KhÃ´ng tá»± Ä‘á»™ng nháº£y sang Ä‘oáº¡n khÃ¡c
âœ… Váº«n phÃ¡t liÃªn tá»¥c trong Ä‘oáº¡n
âœ… Äiá»u khiá»ƒn chÃ­nh xÃ¡c tá»«ng Ä‘oáº¡n
âœ… Giá»›i háº¡n rÃµ rÃ ng cho ngÆ°á»i dÃ¹ng

ğŸ§ª TEST CASES:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… Tua trong Ä‘oáº¡n (0:05-0:10), tá»« 0:07:
   - Tua lÃ¹i 10 giÃ¢y â†’ dá»«ng á»Ÿ 0:05 (Ä‘áº§u) âœ“
   - Tua tiáº¿n 10 giÃ¢y â†’ dá»«ng á»Ÿ 0:09.9 (cuá»‘i) âœ“

âœ… Tua á»Ÿ biÃªn Ä‘áº§u (0:05):
   - Tua lÃ¹i â†’ váº«n á»Ÿ 0:05 âœ“

âœ… Tua á»Ÿ biÃªn cuá»‘i (0:09.9):
   - Tua tiáº¿n â†’ váº«n á»Ÿ 0:09.9 âœ“

âœ… Audio Ä‘ang phÃ¡t:
   - Tiáº¿p tá»¥c phÃ¡t tá»« vá»‹ trÃ­ má»›i âœ“

âœ… Audio Ä‘Ã£ dá»«ng:
   - Vá»‹ trÃ­ cáº­p nháº­t nhÆ°ng váº«n dá»«ng âœ“

ğŸ‰ RESULT:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ¨ BOUNDARY-LOCKED SEEKING! âœ¨

Giá» nÃºt tua trÃ¡i/pháº£i:
â€¢ Chá»‰ hoáº¡t Ä‘á»™ng TRONG biÃªn Ä‘á»™ Ä‘oáº¡n hiá»‡n táº¡i
â€¢ KHÃ”NG tá»± Ä‘á»™ng nháº£y sang Ä‘oáº¡n khÃ¡c
â€¢ Dá»«ng á»Ÿ biÃªn khi tua quÃ¡ giá»›i háº¡n
â€¢ Cung cáº¥p tráº£i nghiá»‡m Ä‘iá»u khiá»ƒn chÃ­nh xÃ¡c

Perfect cho learning flow! ğŸš€

---

Thay Ä‘á»•i chÃ­nh:
â€¢ Constrain newTime = max(start, min(end-0.1, newTime))
â€¢ Giá»›i háº¡n tua trong biÃªn Ä‘á»™ hiá»‡n táº¡i
â€¢ KHÃ”NG tÃ¬m hoáº·c chuyá»ƒn sang segment má»›i
